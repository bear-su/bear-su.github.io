---
title: ì  í‚¨ìŠ¤ë¥¼ ì´ìš©í•´ SSH ì„œë²„ ì ‘ì†í•˜ê¸°
excerpt: Jenkinsì—ì„œ SSH Keyë¥¼ ì´ìš©í•´ ì•ˆì „í•˜ê²Œ ì›ê²© ì„œë²„ì— ì ‘ì†í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì. SSH Key ìƒì„±ë¶€í„° Jenkins Credentials ì„¤ì • ë° í…ŒìŠ¤íŠ¸ê¹Œì§€ ì§„í–‰í•´ë³´ì.
categories: [ DevOps, Jenkins, SSH, ì  í‚¨ìŠ¤ ]
tags: [ Jenkins SSH, Jenkins ì¸ì¦, SSH Key ìƒì„±, DevOps ìë™í™”, Jenkins í”ŒëŸ¬ê·¸ì¸ ]
image:
  path: https://i.imgur.com/cM2E2fY.png
---

## ğŸ” ì¤€ë¹„ ì‘ì—…: Jenkinsì—ì„œ SSH ì„œë²„ ì ‘ì†ì„ ìœ„í•œ ê¸°ë³¸ ì„¤ì •

Jenkinsì—ì„œ ì›ê²© ì„œë²„ì— SSHë¡œ ì ‘ì†í•˜ê¸° ìœ„í•´ì„œëŠ” ì•ˆì „í•œ ì¸ì¦ ê³¼ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜ ì¸ì¦ë³´ë‹¤ ë” ì•ˆì „í•˜ê³  ìë™í™”ì— ìœ ë¦¬í•œ `SSH Key` ê¸°ë°˜ ì¸ì¦ ë°©ë²•ì„ ì‚¬ìš©í•´ ë´…ì‹œë‹¤.

### âœ… SSH Key ìƒì„±í•˜ê¸°

1. **SSH í‚¤ ìƒì„±**:
   - RSA ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ 4096ë¹„íŠ¸ ê¸¸ì´ì˜ SSH í‚¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
   - `-C` ì˜µì…˜ì„ ì‚¬ìš©í•´ í‚¤ì— ì£¼ì„ì„ ë‹¬ì•„ ì‹ë³„í•˜ê¸° ì‰½ê²Œ í•©ë‹ˆë‹¤.
   - ê²½ë¡œë¥¼ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ `~/.ssh` ê²½ë¡œì— `id_rsa`(ê°œì¸ í‚¤)ì™€ `id_rsa.pub`(ê³µê°œ í‚¤) íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.
   - ëª…ë ¹ì–´ ì˜ˆì‹œ:
   ```bash
   ssh-keygen -t rsa -b 4096 -C "ì£¼ì„ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ë‚´ìš©"
   ```

2. **ì›ê²© ì„œë²„ì— ê³µê°œ í‚¤ ë“±ë¡**:
   - ì›ê²© ì„œë²„ì— ì ‘ì†í•˜ì—¬ `~/.ssh` ê²½ë¡œë¡œ ì´ë™í•©ë‹ˆë‹¤.
   - Jenkins ì„œë²„ì—ì„œ ìƒì„±í•œ `id_rsa.pub` íŒŒì¼ì˜ ë‚´ìš©ì„ `authorized_keys` íŒŒì¼ì— ì¶”ê°€í•©ë‹ˆë‹¤.

![SSH Key Registration](https://i.imgur.com/84nlRCM.png)

### âœ… Jenkins Credentials ë“±ë¡í•˜ê¸°

Jenkins Credentialsì€ Jenkinsì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¸ì¦ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì´ ì •ë³´ëŠ” Jenkins ì¸ìŠ¤í„´ìŠ¤ì— ì•”í˜¸í™”ëœ í˜•íƒœë¡œ ì €ì¥ë˜ë©°, íŒŒì´í”„ë¼ì¸ í”„ë¡œì íŠ¸ì—ì„œ í•´ë‹¹ ìê²© ì¦ëª… IDë¥¼ í†µí•´ ì²˜ë¦¬ë©ë‹ˆë‹¤.

![Jenkins Credentials Setup](https://i.imgur.com/fzXdNwN.png)

- **Scope**:
  - **Global**: íŒŒì´í”„ë¼ì¸ í”„ë¡œì íŠ¸ì— ì‚¬ìš©ë  ê²½ìš° ì„ íƒí•©ë‹ˆë‹¤.
  - **System**: ì´ë©”ì¼ ì¸ì¦ ë“± ì‹œìŠ¤í…œ ê´€ë¦¬ ê¸°ëŠ¥ì— ì‚¬ìš©ë  ê²½ìš° ì„ íƒí•©ë‹ˆë‹¤.
- **ID**: ì´í›„ ì´ IDë¥¼ ì‚¬ìš©í•˜ì—¬ Credential ì •ë³´ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
- **Username**: ì›ê²© ì„œë²„ì˜ ì‚¬ìš©ì ê³„ì • ì´ë¦„ì„ ì…ë ¥í•©ë‹ˆë‹¤.
- **Private Key**: ê°œì¸ í‚¤ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
- **Passphrase**: ê°œì¸ í‚¤ ìƒì„± ì‹œ ì„¤ì •í•œ ê²½ìš° ì…ë ¥í•©ë‹ˆë‹¤ (ì„ íƒ ì‚¬í•­).

### âœ… SSH Agent í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜í•˜ê¸°

Jenkinsì—ì„œ SSH ì¸ì¦ì„ ìë™í™”í•˜ê¸° ìœ„í•´ SSH Agent í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.

- **ê²½ë¡œ**: Dashboard -> Manage Jenkins -> Plugins -> Available plugins -> SSH Agent ê²€ìƒ‰ ë° ì„¤ì¹˜.

![SSH Agent Plugin Installation](https://i.imgur.com/CLMlTts.png)

## ğŸ” í…ŒìŠ¤íŠ¸: íŒŒì´í”„ë¼ì¸ í”„ë¡œì íŠ¸ì—ì„œ SSH ì ‘ì† í…ŒìŠ¤íŠ¸í•˜ê¸°

ì´ì œ íŒŒì´í”„ë¼ì¸ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ì—¬ SSH ì ‘ì†ì´ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•´ë´…ì‹œë‹¤.

1. **íŒŒì´í”„ë¼ì¸ ìƒì„±**:
   - Dashboardì—ì„œ `New Item`ì„ í´ë¦­í•˜ê³  `Freestyle Project`ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

![New Jenkins Project](https://i.imgur.com/zZMmygm.png)

2. **ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±**:
   - í”„ë¡œì íŠ¸ ì„¤ì •ì—ì„œ ì•„ë˜ì™€ ê°™ì´ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
   ```groovy
   pipeline {
       agent any
       stages {
           stage('SSH Folder Creation') {
               steps {
                   sshagent (credentials: ['tour-dev-ssh']) {
                       sh """
                           ssh -o StrictHostKeyChecking=no {{ ì ‘ì†í•  ì„œë²„ì˜ ì‚¬ìš©ì ê³„ì • }}@{{ ì„œë²„ URL }} '
                           ls
                       '
                       """
                   }
               }
           }
       }
   }
   ```

3. **ê²°ê³¼ í™•ì¸**:
   - Console Outputìœ¼ë¡œ ì´ë™í•˜ì—¬ `ls` ëª…ë ¹ì–´ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

![Console Output](https://i.imgur.com/X3BNNFr.png)
