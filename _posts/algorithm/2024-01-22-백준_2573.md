---
title: ë°±ì¤€ 2573 ë¹™ì‚° (Java)
excerpt: BFSë¥¼ ì´ìš©í•œ ë°±ì¤€ 2573 ë¹™ì‚° ë¬¸ì œ í’€ì´
categories: [algorithm]
tags: [ ë°±ì¤€2573, java, ë¹™ì‚°, BFS, DFS, ì•Œê³ ë¦¬ì¦˜]
image:
  path: /assets/img/algorithm/covers/ì•Œê³ ë¦¬ì¦˜_ì»¤ë²„.png
---

## ğŸ” ë¬¸ì œ
[ë°±ì¤€ 2573: ë¹™ì‚°](https://www.acmicpc.net/problem/2573)

## ğŸ” ë¬¸ì œ ì ‘ê·¼
1. ë¹™ì‚°ì˜ ë†’ì´ë¥¼ ê°ì†Œì‹œí‚¨ë‹¤.
2. ë†’ì´ê°€ 0ì´í•˜ê°€ ëœ ë¹™ì‚°ì„ 0ìœ¼ë¡œ ëª¨ë‘ ì´ˆê¸°í™”í•œë‹¤.
3. ìµœì í™”ë¥¼ ìœ„í•´ ë¹™ì‚° ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ì— ë‹´ëŠ”ë‹¤.

## ğŸ” ì½”ë“œ
1. ìµœì í™”ë¥¼ ìœ„í•´ ë¹™ì‚°ì˜ ì •ë³´ë§Œ ë¦¬ìŠ¤íŠ¸ì— ë‹´ì•„ì„œ ì‚¬ìš©í–ˆë‹¤.
```java
for (int i = 0; i < N; i++) {
    for (int j = 0; j < M; j++) {
        map[i][j] = sc.nextInt();
        if (map[i][j] != 0) {
            // ìµœì í™”ë¥¼ ìœ„í•œ ICE ì •ë³´ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
            ices.add(new Ice(i, j, map[i][j]));
        }
    }
}
```
2. ë¹™ì‚°ì„ ë…¹ì¸ë‹¤.
```java
for (int year = 1; !ices.isEmpty(); year++) {
  // ë¹™ì‚° ë…¹ì´ê¸°
  for (Ice ice : ices) {
      for (int i = 0; i < 4; i++) {
          int nr = ice.row + dr[i];
          int nc = ice.col + dc[i];
          if (map[nr][nc] == 0) {
              ice.height--;
          }
      }
  }
}
```
3. ë†’ì´ê°€ 0ì´í•˜ì¸ ë¹™ì‚°ì„ ì œê±°í•œë‹¤. (ë¹™ì‚°ì„ ë…¹ì´ë©´ì„œ ë™ì‹œì— ì œê±°í•˜ë©´ ì•ˆëœë‹¤. ë¹™ì‚°ì„ ë…¹ì´ê³  ì œê±°í•˜ë©´ ê°ì†Œí•˜ëŠ” ë†’ì´ê°€ ë‹¬ë¼ì§„ë‹¤. )
```java
// ë¹™ì‚° ë…¹ì€ í›„ 0ì´í•˜ì¸ ë¹™ì‚° ì œê±°
for (int i = 0; i < ices.size(); i++) {
    // ë¹™ì‚° ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œê±°
    Ice ice = ices.get(i);
    if (ice.height <= 0) {
        map[ice.row][ice.col] = 0;
        ices.set(i, ices.get(ices.size() - 1));
        ices.remove(ices.size() - 1);
        i--;
    }
}
```
4. ë¹™ì‚°ì´ ë‘ ë©ì–´ë¦¬ ì´ìƒìœ¼ë¡œ ë¶„í•´ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.
~~~java
private static int BFS() {
        boolean[][] visited = new boolean[N][M];
        Queue<int[]> queue = new LinkedList<>();

        int row = ices.get(0).row;
        int col = ices.get(0).col;
        queue.offer(new int[]{row, col});
        visited[row][col] = true;

        int cnt = 1;
        while(!queue.isEmpty()) {
            int[] cur = queue.poll();
            for(int i = 0; i < 4; i++) {
                int nr = cur[0] + dr[i];
                int nc = cur[1] + dc[i];
                if (!visited[nr][nc] && map[nr][nc] > 0) {
                    cnt++;
                    visited[nr][nc] = true;
                    queue.offer(new int[]{nr, nc});
                }
            }
        }

        return cnt;
    }
~~~

## ğŸ” ì „ì²´ ì½”ë“œ
```java
public class Q2573 {
    static int N, M;
    static int[][] map;
    static List<Ice> ices = new ArrayList<>();
    static int[] dr = {-1, 0, 0, 1}, dc = {0, -1, 1, 0};

    static class Ice {
        int row;
        int col;
        int height;

        public Ice(int row, int col, int height) {
            this.row = row;
            this.col = col;
            this.height = height;
        }
    }

    public static void main(String[] args) {
        input();

        process();

    }

    private static void input() {
        Scanner sc = new Scanner(System.in);

        N = sc.nextInt();
        M = sc.nextInt();

        map = new int[N][M];

        // map ì…ë ¥
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < M; j++) {
                map[i][j] = sc.nextInt();
                if (map[i][j] != 0) {
                    // ìµœì í™”ë¥¼ ìœ„í•œ ICE ì •ë³´ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
                    ices.add(new Ice(i, j, map[i][j]));
                }
            }
        }
    }

    private static void process() {
        for (int year = 1; !ices.isEmpty(); year++) {
            // ë¹™ì‚° ë…¹ì´ê¸°
            for (Ice ice : ices) {
                for (int i = 0; i < 4; i++) {
                    int nr = ice.row + dr[i];
                    int nc = ice.col + dc[i];
                    if (map[nr][nc] == 0) {
                        ice.height--;
                    }
                }
            }

            // ë¹™ì‚° ë…¹ì€ í›„ 0ì´í•˜ì¸ ë¹™ì‚° ì œê±°
            for (int i = 0; i < ices.size(); i++) {
                // ë¹™ì‚° ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œê±°
                Ice ice = ices.get(i);
                if (ice.height <= 0) {
                    map[ice.row][ice.col] = 0;
                    ices.set(i, ices.get(ices.size() - 1));
                    ices.remove(ices.size() - 1);
                    i--;
                }
            }

            // ë¹™ì‚°ì´ 2ë©ì–´ë¦¬ ì´ìƒì¸ì§€ í™•ì¸
            if(!ices.isEmpty()) {
                int cnt = BFS();
                if (cnt != ices.size()) {
                    System.out.println(year);
                    return;
                }
            }
        }
        System.out.println(0);
    }

    private static int BFS() {
        boolean[][] visited = new boolean[N][M];
        Queue<int[]> queue = new LinkedList<>();

        int row = ices.get(0).row;
        int col = ices.get(0).col;
        queue.offer(new int[]{row, col});
        visited[row][col] = true;

        int cnt = 1;
        while(!queue.isEmpty()) {
            int[] cur = queue.poll();
            for(int i = 0; i < 4; i++) {
                int nr = cur[0] + dr[i];
                int nc = cur[1] + dc[i];
                if (!visited[nr][nc] && map[nr][nc] > 0) {
                    cnt++;
                    visited[nr][nc] = true;
                    queue.offer(new int[]{nr, nc});
                }
            }
        }

        return cnt;

    }


}
```

