---
title: ë°±ì¤€ 14267 íšŒì‚¬ ë¬¸í™”1 (Java)
excerpt: ì¬ê·€ë¥¼ ì´ìš©í•œ ë°±ì¤€ 14267ë²ˆ íšŒì‚¬ ë¬¸í™”1 ë¬¸ì œ í’€ì´
categories: [algorithm]
tags: [ë°±ì¤€14267, íšŒì‚¬ë¬¸í™”1, java, ì•Œê³ ë¦¬ì¦˜, ì¬ê·€]
image:
  path: /assets/img/algorithm/covers/ì•Œê³ ë¦¬ì¦˜_ì»¤ë²„.png
---

## ğŸ” ë¬¸ì œ 
[ë°±ì¤€ 14267: íšŒì‚¬ ë¬¸í™”1](https://www.acmicpc.net/problem/14267)

## ğŸ” ë¬¸ì œ ì„¤ëª…
ìƒì‚¬ê°€ ì§ì† ë¶€í•˜ë¥¼ ì¹­ì°¬í•˜ë©´ ê·¸ ë¶€í•˜ê°€ ë¶€í•˜ì˜ ì§ì† ë¶€í•˜ë¥¼ ì—°ì‡„ì ìœ¼ë¡œ ì¹­ì°¬í•œë‹¤. ì´ë•Œ, ì¹­ì°¬ ìˆ˜ì¹˜ ë˜í•œ ë¶€í•˜ë“¤ì—ê²Œ ë˜‘ê°™ì´ ì „ë‹¬ëœë‹¤.

## ğŸ” ì ‘ê·¼ ë°©ë²•
 - ì‚¬ëŒê°„ì— ê´€ê³„ê°€ ìƒê¸´ë‹¤ (ìƒì‚¬ - ë¶€í•˜) -> ê·¸ë˜í”„ë¥¼ ì´ìš©í•œë‹¤.
 - ìƒì‚¬ê°€ ë¶€í•˜ë¥¼ ì¹­ì°¬í•˜ë©´, ë¶€í•˜ê°€ ë¶€í•˜ì˜ ë¶€í•˜ë¥¼ ì¹­ì°¬í•œë‹¤. -> ì¬ê·€ë¥¼ ì´ìš©í•œë‹¤.

## ğŸ” ì½”ë“œ
ê¸°ë³¸ì ì¸ ì•„ì´ë””ì–´ëŠ” ì¬ê·€ë¥¼ ì´ìš©í•˜ì—¬ ë¶€í•˜ë“¤ì„ íƒìƒ‰í•˜ê³  ì¹­ì°¬ì„ ê¸°ë¡í•˜ëŠ” ê²ƒì´ë‹¤.

1. ì…ë ¥ìœ¼ë¡œ ì§ì† ìƒì‚¬ì˜ ë²ˆí˜¸ê°€ ì£¼ì–´ì§€ë¯€ë¡œ ì´ë¥¼ ì´ìš©í•˜ì—¬ ê·¸ë˜í”„ë¥¼ ë§Œë“ ë‹¤.
  - ìì‹ ì˜ ë¶€í•˜ì— ëŒ€í•´ ì¬ê·€ íƒìƒ‰ì„ í•´ì•¼í•˜ë¯€ë¡œ ê°’ì— ë¶€í•˜ì˜ ì •ë³´ë¥¼ ë„£ëŠ”ë‹¤.
~~~java
for (int employee = 1; employee <= N; employee++) {
    int boss = Integer.parseInt(st.nextToken());
    if (boss == -1) continue;
    list.get(boss).add(employee);  // bossì˜ ë¶€í•˜ì— employee ì¶”ê°€
}
~~~

2. ì¬ê·€ íƒìƒ‰í•œë‹¤.
 - ìµœì•…ì˜ ê²½ìš° 100,000 * 100,000 = 10,000,000,000ìœ¼ë¡œ ì‹œê°„ ì´ˆê³¼ê°€ ë‚œë‹¤.
~~~java
for (int i = 0; i < M; i++) {
    st = new StringTokenizer(br.readLine());
    int a = Integer.parseInt(st.nextToken());
    int v = Integer.parseInt(st.nextToken());
    answer[a] += v;
    recursion(a, v);
}
~~~

3. ì¬ê·€ íƒìƒ‰ì„ í•œ ë²ˆë§Œ í•˜ë„ë¡ ë§Œë“ ë‹¤. 100,000 * 1,000 = 100,000,000ì´ ëœë‹¤.
 - ê°€ì¥ ì²˜ìŒ ì¹­ì°¬ì„ ë°›ëŠ” ì‚¬ëŒì— ëŒ€í•´ì„œë§Œ ì¹­ì°¬ì„ ë¨¼ì € ê¸°ë¡í•œë‹¤.
 - ì´í›„ ì¬ê·€íƒìƒ‰ì„ ì´ìš©í•˜ì—¬ ì¹­ì°¬ì„ ì „íŒŒí•œë‹¤. 
~~~java
for (int i = 0; i < M; i++) {
    st = new StringTokenizer(br.readLine());
    int a = Integer.parseInt(st.nextToken());
    int v = Integer.parseInt(st.nextToken());
    like[a] += v;
}
~~~

## ì „ì²´ ì½”ë“œ 
~~~java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;
import java.util.StringTokenizer;

public class Main {

    private static int[] like;
    private static List<List<Integer>> list = new ArrayList<>();

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        int N = Integer.parseInt(st.nextToken());
        int M = Integer.parseInt(st.nextToken());

        like = new int[N + 1];
        for (int i = 0; i <= N; i++) {
            list.add(new ArrayList<>());
        }

        // 1ë²ˆ. ìì‹ ì˜ ë¶€í•˜ë¥¼ Listì— ë„£ëŠ”ë‹¤.
        st = new StringTokenizer(br.readLine());
        for (int i = 1; i <= N; i++) {
            int sub = Integer.parseInt(st.nextToken());
            if (sub == -1) continue;
            list.get(sub).add(i);
        }

        // 2ë²ˆ. ì¬ê·€ íƒìƒ‰í•œë‹¤.
        for (int i = 0; i < M; i++) {
            st = new StringTokenizer(br.readLine());
            int a = Integer.parseInt(st.nextToken());
            int v = Integer.parseInt(st.nextToken());
            like[a] += v;
        }

        recursion(1);

        StringBuilder sb = new StringBuilder();
        for (int i = 1; i <= N; i++) {
            sb.append(like[i]).append(" ");
        }

        System.out.println(sb);
    }

    private static void recursion(int R) {
        for (Integer sub : list.get(R)) {
            like[sub] += like[R];
            recursion(sub);
        }
    }
}

~~~
